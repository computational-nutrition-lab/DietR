---
title: "Load and clean NHANES data"
output: html_document
---

NHANES is a national survey conducted with some thousands of participants across the US over two days. NHANES data is published every other year and consists of various kinds of data including dietary intake, body measurements, laboratory-taken data. Here, we will explore the dietary intake (food items) of participants and look at the relationship between dietary patterns and diabetic status in [NHANES 2015-2016](https://wwwn.cdc.gov/nchs/nhanes/continuousnhanes/default.aspx?BeginYear=2015).

Refer to [the NHANES data and documentation](https://wwwn.cdc.gov/nchs/nhanes/Default.aspx) for more information about each release (version) of NHANES and their variables measured.

Data are in .XPT format, and you will need a specific package, [SASxport](https://github.com/r-gregmisc/SASxport), to import it to R. The example data we will use here were downloaded from the NHANES 2015-2016 page and are in the “Raw_data” folder in the “NHANES” folder.

Open “02_load_clean_NHANES_food.R” script in the “users” folder and load the packages needed as per the directions.

<br>

---

Name the path to DietR directory where input files are pulled.
```{r}
  main_wd <- "~/GitHub/DietR"
```

Load the necessary functions.
```{r}
  source("lib/specify_data_dir.R")
  source("lib/load_clean_NHANES.R")
  source("lib/prep_data_for_clustering.R")
  source("lib/Food_tree_scripts/format.foods.r")
```

Install the SASxport package if it is not installed yet.
```{r, eval=FALSE}
  if (!require("SASxport", quietly = TRUE)) install.packages("SASxport")
```

Load the necessary packages.
```{r}
library(SASxport)
```

You can come back to the main directory by:
```{r, eval=FALSE}
  setwd(main_wd)
```

---

