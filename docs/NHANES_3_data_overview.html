<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>NHANES Data Overview</title>

<script src="site_libs/header-attrs-2.16/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">DietR Package</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    ASA24
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="ASA24_1.html">Load and clean ASA24 data</a>
    </li>
    <li>
      <a href="ASA24_2.html">Calculate totals by occasion</a>
    </li>
    <li>
      <a href="ASA24_3.html">Data overview</a>
    </li>
    <li>
      <a href="ASA24_4.html">Percent kcal of CARB, PROT, TFAT</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="ASA24_5.html">Prepare for clustering</a>
    </li>
    <li>
      <a href="ASA24_6_PCA.html">PCA</a>
    </li>
    <li>
      <a href="ASA24_7_PCA_results.html">PCA results</a>
    </li>
    <li>
      <a href="ASA24_8_k-means.html">K-means</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="ASA24_9_create_food_tree.html">Create food tree</a>
    </li>
    <li>
      <a href="ASA24_10_viz_food_tree.html">Visualize food tree</a>
    </li>
    <li>
      <a href="ASA24_11_ordination.html">Ordination</a>
    </li>
    <li>
      <a href="ASA24_12_viz_ordination.html">Visualize ordination</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    NHANES
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="NHANES_1_load_and_clean_1.html">Load and clean NHANES data - 1</a>
    </li>
    <li>
      <a href="NHANES_2_load_and_clean_2.html">Load and clean NHANES data - 2</a>
    </li>
    <li>
      <a href="NHANES_3_data_overview.html">NHANES data overview</a>
    </li>
  </ul>
</li>
<li>
  <a href="Links.html">Links</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">NHANES Data Overview</h1>

</div>


<p>Name the path to DietR directory where input files are pulled.</p>
<pre class="r"><code>  main_wd &lt;- &quot;~/GitHub/DietR&quot;</code></pre>
<p>Load the necessary packages.</p>
<pre class="r"><code>library(ggplot2)</code></pre>
<p>Call color palette.</p>
<pre class="r"><code>distinct100colors &lt;- readRDS(&quot;lib/distinct100colors.rda&quot;)</code></pre>
<p>Load the necessary functions.</p>
<pre class="r"><code>  source(&quot;lib/specify_data_dir.R&quot;)
  source(&quot;lib/data_overview.R&quot;)
  source(&quot;lib/ggplot2themes.R&quot;)</code></pre>
<p>You can come back to the main directory by:</p>
<pre class="r"><code>  setwd(main_wd)</code></pre>
<p><br></p>
<div id="load-and-analyze-qc-ed-nhanes-food-items-data" class="section level2">
<h2>Load and analyze (QC-ed) NHANES food items data</h2>
<p>Specify the directory where the data is.</p>
<pre class="r"><code>  SpecifyDataDirectory(directory.name= &quot;eg_data/NHANES/&quot;)</code></pre>
<!-- [NOTE] SpecifyDataDirectory function is not executed by R markdown, but just showing  -->
<!--  the code so that this tutorial will have the same code as the R script.  -->
<p>Load your items data to be analyzed.<br />
“_FC_cc_f_d” stands for: “Food category variables added”, “column names changed”, “food formatted”, and “demographic data merged”.</p>
<pre class="r"><code>food12f_d &lt;- read.table(&quot;Food_D12_FC_cc_f_d.txt&quot;, sep=&quot;\t&quot;, header=T) </code></pre>
<p><br></p>
<div id="summary-statistics" class="section level3">
<h3>Summary statistics</h3>
<div id="summary-statistics-of-one-variable" class="section level4">
<h4>Summary statistics of one variable</h4>
<p>View min, quantiles, mean, etc. for a variable in your dataset.</p>
<pre class="r"><code>summary(food12f_d$KCAL)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##     0.0     7.0    73.0   131.6   176.0  4100.0</code></pre>
<p><br></p>
</div>
<div id="summary-statistics-of-all-the-variables" class="section level4">
<h4>Summary statistics of all the variables</h4>
<p>Calculate the minimum, 1st quantile, median, mean, 3rd quantile, max, and standard deviation for each variable in the input dataframe and save as a .txt file.<br />
<strong>[NOTE]</strong> These are individual items, not by user or day.</p>
<pre class="r"><code>SummaryStats(inputdf = food12f_d, 
             outfn = &quot;Food_D12_FC_cc_f_d_summ.txt&quot;)</code></pre>
<p>The first six rows of Food_D12_FC_cc_f_d_summ.txt looks like this. Summary statistics of some variables are not useful such as SEQN and Food_code, as they are not to be treated as continuous variables.</p>
<pre><code>##   Variables      Min  FirstQu   Median             Mean  ThirdQu      Max
## 1      SEQN    83732    86189    88833 88755.4396768929  91284.5    93702
## 2 Food_code 11100000 43108010 63420110 63135117.6103009 92101000 95323000
## 3    WTDRD1 3173.136 15528.43 26381.13 48777.4649074207 61067.88 454277.7
## 4    WTDR2D 2553.902 14641.89 31314.42 56623.0801854982 68194.03   579149
## 5      LINE        1        4        8 9.28909663881347       13       48
## 6     DRSTZ        1        1        1                1        1        1
##                 SD
## 1 2891.39597149605
## 2 27664707.2765165
## 3 55627.7160423939
## 4   69805.02688203
## 5 6.26507700471253
## 6                0</code></pre>
<p><br></p>
</div>
</div>
<div id="boxplot" class="section level3">
<h3>Boxplot</h3>
<p>Generate a boxplot to view data distribution.</p>
<p>Group by metadata variables and generate a boxplot. According to <a href="https://wwwn.cdc.gov/Nchs/Nhanes/2015-2016/DEMO_I.htm">the documentation of the NHANES 2015-2016</a>, the column for gender is RIAGENDR.<br />
Convert RIAGENDR into a factor, so that it will be a categorical variable.</p>
<pre class="r"><code>food12f_d$RIAGENDR &lt;- factor(food12f_d$RIAGENDR, levels= c(&#39;1&#39;, &#39;2&#39;))</code></pre>
<p>Generate a boxplot of KCAL by gender.</p>
<pre class="r"><code>gender_kcal &lt;- ggplot(food12f_d, aes(x=RIAGENDR, y=KCAL, group=RIAGENDR)) +
  geom_boxplot() + no_grid + space_axes + labs(x=&quot;Gender&quot;) +
  scale_x_discrete(labels = c(&quot;Male&quot;, &quot;Female&quot;)) </code></pre>
<pre class="r"><code>gender_kcal</code></pre>
<p><img src="NHANES_3_data_overview_files/figure-html/unnamed-chunk-12-1.png" width="50%" /></p>
<p>Save it as a .pdf file.</p>
<pre class="r"><code>ggsave(&quot;Food_D12_FC_cc_f_d_gender_kcal.pdf&quot;, 
       gender_kcal, device=&quot;pdf&quot;, width=5.3, height=4.5)</code></pre>
<p><br></p>
</div>
<div id="scatterplot" class="section level3">
<h3>Scatterplot</h3>
<p>Scaterplot of two numeric variables: TFAT and KCAL.</p>
<pre class="r"><code>TFAT_KCAL &lt;- ggplot(food12f_d, aes(x=TFAT, y=KCAL)) +
  geom_point() + no_grid + space_axes </code></pre>
<pre class="r"><code>TFAT_KCAL</code></pre>
<p><img src="NHANES_3_data_overview_files/figure-html/unnamed-chunk-15-1.png" width="50%" /></p>
<p>Save it as a .pdf file.</p>
<pre class="r"><code>ggsave(&quot;Food_D12_FC_cc_f_d_TFAT_KCAL.pdf&quot;, 
       TFAT_KCAL, device=&quot;pdf&quot;, width=5.3, height=4.5)</code></pre>
<p>Test if the two variables are correlated. The output should show p-value and R correlation coefficient.</p>
<pre class="r"><code>cor.test(x=food12f_d$TFAT, y=food12f_d$KCAL, method=&quot;pearson&quot;)</code></pre>
<pre><code>## 
##  Pearson&#39;s product-moment correlation
## 
## data:  food12f_d$TFAT and food12f_d$KCAL
## t = 560.89, df = 132957, p-value &lt; 2.2e-16
## alternative hypothesis: true correlation is not equal to 0
## 95 percent confidence interval:
##  0.8368009 0.8399946
## sample estimates:
##       cor 
## 0.8384049</code></pre>
<p><br></p>
</div>
</div>
<div id="load-and-analyze-qc-ed-nhanes-totals-data" class="section level2">
<h2>Load and analyze (QC-ed) NHANES totals data</h2>
<p>Specify the directory where the data is, if you have not done so yet.</p>
<pre class="r"><code>SpecifyDataDirectory(directory.name = &quot;eg_data/NHANES&quot;)  </code></pre>
<p>Load your QC-ed totals with demograhpic data to be analyzed.</p>
<pre class="r"><code>QCtotals_d &lt;- read.table(&quot;Total_D12_FC_QC_mean_QC_d.txt&quot;, sep=&quot;\t&quot;, header=T)</code></pre>
<p>Note that each row is a total dietary intake of each user on each day.</p>
<pre class="r"><code>head(QCtotals_d, 2)</code></pre>
<details>
<summary>
Click to expand output
</summary>
<pre><code>##    SEQN     GRMS   KCAL    PROT    CARB    SUGR  FIBE    TFAT    SFAT    MFAT
## 1 83732 3828.195 2262.5 104.815 237.465  80.355 19.75 100.415 31.9250 37.1625
## 2 83733 5281.080 3467.5 114.110 290.210 107.680  9.75 116.230 29.3455 40.0685
##      PFAT  CHOL   ATOC ATOA   RET  VARA  ACAR BCAR CRYP   LYCO   LZ    VB1
## 1 22.6705 386.5  9.605    0 362.0 651.5 213.5 3297  162 1460.5 4797 2.1855
## 2 33.1180 590.0 11.005    0 291.5 374.5 274.5  805   64 1582.5 1206 1.8960
##      VB2    NIAC    VB6  FOLA    FA    FF  FDFE    CHL  VB12 B12A    VC  VD
## 1 2.6175 28.0310 2.7810 422.5 161.5 260.5 535.5 415.55  4.45    0 87.55 6.1
## 2 2.6420 36.5695 2.4455 503.5 119.0 384.0 586.5 889.25 10.68    0 29.05 3.9
##      VK   CALC PHOS  MAGN  IRON  ZINC  COPP   SODI   POTA  SELE  CAFF THEO
## 1 336.2 1028.0 1466 294.5 15.84 11.91 1.180 4864.5 3207.5 140.7 265.5  3.5
## 2 113.5  611.5 2038 393.0 13.48  7.06 0.892 3908.5 3582.0 121.7 186.0  0.0
##    ALCO     MOIS   S040  S060   S080   S100  S120   S140    S160  S180   M161
## 1   0.0 3361.605 0.2835 0.220 0.2550 0.3185 0.514 2.1745 17.9120 8.999 1.8020
## 2 117.1 4623.660 0.5105 0.363 0.2225 0.5665 0.625 2.1060 17.2375 6.873 1.1705
##      M181   M201   M221    P182   P183   P184  P204   P205   P225   P226
## 1 33.9900 0.4090 0.1940 19.5855 2.6105 0.0020 0.230 0.0085 0.0210 0.0315
## 2 37.9635 0.5395 0.0135 28.3100 3.5400 0.0095 0.352 0.0705 0.0715 0.2625
##   F_CITMLB F_OTHER F_JUICE F_TOTAL  V_DRKGR V_REDOR_TOMATO V_REDOR_OTHER
## 1   0.5184  0.6767       0  1.1951 0.256275        0.13970     0.0000000
## 2   0.0000  0.0000       0  0.0000 0.000000        0.36285     0.0431165
##   V_REDOR_TOTAL V_STARCHY_POTATO V_STARCHY_OTHER V_STARCHY_TOTAL  V_OTHER
## 1     0.1397000             0.45           0.000           0.450 0.936335
## 2     0.4059665             0.00           0.305           0.305 0.959503
##   V_TOTAL V_LEGUMES   G_WHOLE G_REFINED  G_TOTAL  PF_MEAT PF_CUREDMEAT PF_ORGAN
## 1 1.78231  0.330122 0.1934625  7.864732 8.058195 1.784947       4.2063        0
## 2 1.67047  0.000000 0.0000000  8.898440 8.898440 1.396850       0.0000        0
##   PF_POULT PF_SEAFD_HI PF_SEAFD_LOW PF_MPS_TOTAL PF_EGGS PF_SOY PF_NUTSDS
## 1    2.555           0       0.0000     8.546247 0.77405      0         0
## 2    0.000           0      11.0985    12.495350 2.05728      0         0
##   PF_LEGUMES  PF_TOTAL   D_MILK D_YOGURT D_CHEESE  D_TOTAL     OILS SOLID_FATS
## 1   1.345882  9.320298 1.147925        0   0.1854 1.345925 29.75551   46.26223
## 2   0.000000 14.552630 0.056100        0   0.0000 0.056100 42.08730   38.99672
##   ADD_SUGARS A_DRINKS NoOfItems SDDSRVYR RIDSTATR RIAGENDR RIDAGEYR RIDAGEMN
## 1   8.224474    0.000      21.0        9        2        1       62       NA
## 2  21.821656    8.328      10.5        9        2        1       53       NA
##   RIDRETH1 RIDRETH3 RIDEXMON RIDEXAGM DMQMILIZ DMQADFC DMDBORN4 DMDCITZN
## 1        3        3        1       NA        2      NA        1        1
## 2        3        3        1       NA        2      NA        2        2
##   DMDYRSUS DMDEDUC3 DMDEDUC2 DMDMARTL RIDEXPRG SIALANG SIAPROXY SIAINTRP
## 1       NA       NA        5        1       NA       1        2        2
## 2        7       NA        3        3       NA       1        2        2
##   FIALANG FIAPROXY FIAINTRP MIALANG MIAPROXY MIAINTRP AIALANGA DMDHHSIZ
## 1       1        2        2       1        2        2        1        2
## 2       1        2        2       1        2        2        1        1
##   DMDFMSIZ DMDHHSZA DMDHHSZB DMDHHSZE DMDHRGND DMDHRAGE DMDHRBR4 DMDHREDU
## 1        2        0        0        1        1       62        1        5
## 2        1        0        0        0        1       53        2        3
##   DMDHRMAR DMDHSEDU  WTINT2YR  WTMEC2YR SDMVPSU SDMVSTRA INDHHIN2 INDFMIN2
## 1        1        3 134671.37 135629.51       1      125       10       10
## 2        3       NA  24328.56  25282.43       1      125        4        4
##   INDFMPIR
## 1     4.39
## 2     1.32</code></pre>
</details>
<p><br></p>
<div id="summary-statistics-1" class="section level3">
<h3>Summary statistics</h3>
<p>Summary statistics of one variable</p>
<pre class="r"><code>summary(QCtotals_d$KCAL)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##     604    1477    1908    1997    2404    5136</code></pre>
<p>Calculate the min, quantiles, mean, etc. for a variable in your dataset in the same way we did with the items.</p>
<pre class="r"><code>SummaryStats(inputdf = QCtotals_d, 
             outfn = &quot;Total_D12_FC_QC_mean_QC_d_summ.txt&quot;)</code></pre>
<p>The first six rows of Total_D12_FC_QC_mean_QC_d_summ.txt looks like this.</p>
<pre><code>##   Variables     Min   FirstQu   Median             Mean  ThirdQu      Max
## 1      SEQN   83732   86176.5    88744 88721.0342286665  91258.5    93702
## 2      GRMS 588.915 2242.8025 2944.655 3170.93349893035 3849.095 11901.56
## 3      KCAL     604   1477.25   1907.5  1997.0589493701   2404.5     5136
## 4      PROT   13.21     56.72    73.99 78.8627169004041    95.88   228.85
## 5      CARB   25.13  170.6775   225.78 238.471425005942 290.2975  822.645
## 6      SUGR   2.335    60.585    89.79 100.292325885429   127.25   436.12
##                 SD
## 1 2888.32251584836
## 2 1288.28185194135
## 3 720.154806474147
## 4 31.4610307884675
## 5 93.2605246079513
## 6 55.2496789170665</code></pre>
<p><br></p>
</div>
<div id="boxplot-1" class="section level3">
<h3>Boxplot</h3>
<p>Generate a boxplot to view data distribution.</p>
<p>Convert RIAGENDR into a factor, so that it will be a categorical variable.</p>
<pre class="r"><code>QCtotals_d$RIAGENDR &lt;- factor(QCtotals_d$RIAGENDR, levels= c(&#39;1&#39;, &#39;2&#39;))</code></pre>
<p>Boxplot of KCAL by gender (RIAGENDR). “t” stands for “total”.</p>
<pre class="r"><code>gender_KCAL_t &lt;- ggplot(QCtotals_d, aes(x= RIAGENDR, y=KCAL)) +
  geom_boxplot() + no_grid + space_axes + labs(x=&quot;Gender&quot;) +
  scale_x_discrete(labels = c(&quot;Male&quot;, &quot;Female&quot;))</code></pre>
<pre class="r"><code>gender_KCAL_t</code></pre>
<p><img src="NHANES_3_data_overview_files/figure-html/unnamed-chunk-26-1.png" width="50%" /></p>
<p>Save it as a .pdf file.</p>
<pre class="r"><code>ggsave(&quot;Total_D12_FC_QC_mean_QC_d_gender_KCAL.pdf&quot;, 
       gender_KCAL_t, device=&quot;pdf&quot;, width=5.3, height=4.5)</code></pre>
<p>Boxplot of KCAL by gender, with each datapoint. Note that geom_boxplot must have <code>outlier.shape = NA</code> when plotted with geom_jitter. Otherwise, outlier points will be duplicated and will be misleading.</p>
<pre class="r"><code>gender_KCAL_t_dots &lt;- ggplot(QCtotals_d, aes(x= RIAGENDR, y= KCAL)) +
  geom_boxplot(outlier.shape = NA) + no_grid + space_axes + labs(x=&quot;Gender&quot;) +
  geom_jitter(width=0.3, color=&quot;grey60&quot;, alpha=0.5) +
  scale_x_discrete(labels = c(&quot;Male&quot;, &quot;Female&quot;))</code></pre>
<pre class="r"><code>gender_KCAL_t_dots</code></pre>
<p><img src="NHANES_3_data_overview_files/figure-html/unnamed-chunk-29-1.png" width="50%" /></p>
<p>Save it as a .pdf file.</p>
<pre class="r"><code>ggsave(&quot;Total_D12_FC_QC_mean_QC_d_KCAL_dots.pdf&quot;, 
       gender_KCAL_t_dots, device=&quot;pdf&quot;, width=5.3, height=4.5)</code></pre>
<p><br></p>
</div>
<div id="scatterplot-1" class="section level3">
<h3>Scatterplot</h3>
<p>Scaterplot of two variables.</p>
<pre class="r"><code>TFAT_KCAL_t &lt;- ggplot(QCtotals_d, aes(x=TFAT, y=KCAL)) +
  geom_point(color=&quot;grey30&quot;, alpha=0.5) + no_grid + space_axes</code></pre>
<pre class="r"><code>TFAT_KCAL_t</code></pre>
<p><img src="NHANES_3_data_overview_files/figure-html/unnamed-chunk-32-1.png" width="50%" /></p>
<p>Save it as a .pdf file.</p>
<pre class="r"><code>ggsave(&quot;Total_D12_FC_QC_mean_QC_d_TFAT_KCAL.pdf&quot;, 
       TFAT_KCAL_t, device=&quot;pdf&quot;, width=5.3, height=4.5)</code></pre>
<p>Test if the two variables are correlated. The output should show p-value and R correlation coefficient.</p>
<pre class="r"><code>cor.test(x=QCtotals_d$TFAT, y=QCtotals_d$KCAL, method=&quot;pearson&quot;)</code></pre>
<pre><code>## 
##  Pearson&#39;s product-moment correlation
## 
## data:  QCtotals_d$TFAT and QCtotals_d$KCAL
## t = 117.73, df = 4205, p-value &lt; 2.2e-16
## alternative hypothesis: true correlation is not equal to 0
## 95 percent confidence interval:
##  0.8686999 0.8827772
## sample estimates:
##       cor 
## 0.8759249</code></pre>
<p><br></p>
<hr />
<p>Come back to the main directory.</p>
<pre class="r"><code>setwd(main_wd)</code></pre>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
