<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Subset data</title>

<script src="site_libs/header-attrs-2.16/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">DietR Package</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    ASA24
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="ASA24_1.html">Load and clean ASA24 data</a>
    </li>
    <li>
      <a href="ASA24_2.html">Calculate totals by occasion</a>
    </li>
    <li>
      <a href="ASA24_3.html">Data overview</a>
    </li>
    <li>
      <a href="ASA24_4.html">Percent kcal of CARB, PROT, TFAT</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="ASA24_5.html">Prepare for clustering</a>
    </li>
    <li>
      <a href="ASA24_6_PCA.html">PCA</a>
    </li>
    <li>
      <a href="ASA24_7_PCA_results.html">PCA results</a>
    </li>
    <li>
      <a href="ASA24_8_k-means.html">K-means</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="ASA24_9_create_food_tree.html">Create food tree</a>
    </li>
    <li>
      <a href="ASA24_10_viz_food_tree.html">Visualize food tree</a>
    </li>
    <li>
      <a href="ASA24_11_ordination.html">Ordination</a>
    </li>
    <li>
      <a href="ASA24_12_viz_ordination.html">Visualize ordination</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    NHANES
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="NHANES_1_load_and_clean_1.html">Load and clean NHANES data - 1</a>
    </li>
    <li>
      <a href="NHANES_2_load_and_clean_2.html">Load and clean NHANES data - 2</a>
    </li>
    <li>
      <a href="NHANES_3_data_overview.html">Data overview</a>
    </li>
    <li>
      <a href="NHANES_4_percent_kcal.html">Percent kcal of CARB, PROT, TFAT</a>
    </li>
  </ul>
</li>
<li>
  <a href="Links.html">Links</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Subset data</h1>

</div>


<p>Name the path to DietR directory where input files are pulled.</p>
<pre class="r"><code>  main_wd &lt;- &quot;~/GitHub/DietR&quot;</code></pre>
<p>Load the necessary functions.</p>
<pre class="r"><code>  source(&quot;lib/specify_data_dir.R&quot;)
  source(&quot;lib/load_clean_NHANES.R&quot;)
  source(&quot;lib/prep_data_for_clustering.R&quot;)
  source(&quot;lib/ggplot2themes.R&quot;) </code></pre>
<p>Install the SASxport package if it is not installed yet.</p>
<pre class="r"><code>  if (!require(&quot;SASxport&quot;, quietly = TRUE)) install.packages(&quot;SASxport&quot;)</code></pre>
<p>Load the necessary packages.</p>
<pre class="r"><code>library(SASxport)</code></pre>
<p>You can come back to the main directory by:</p>
<pre class="r"><code>  setwd(main_wd)</code></pre>
<p><br></p>
<div id="load-nhanes15-16totals-with-demographic-data" class="section level3">
<h3>Load NHANES15-16totals with demographic data</h3>
</div>
<div id="specify-the-directory-where-the-data-is." class="section level1">
<h1>Specify the directory where the data is.</h1>
<p>SpecifyDataDirectory(directory.name = “eg_data/NHANES”)</p>
</div>
<div id="load-the-qc-ed-total-with-food-categories-filtered-for-kcal-prot-tfat-vc.-4207-people." class="section level1">
<h1>Load the QC-ed total (with food categories), filtered for KCAL, PROT, TFAT, VC. 4207 people.</h1>
<p>QCtotals_d &lt;- read.table(“Total_D12_FC_QC_mean_QC_d.txt”, sep=“, header=T)</p>
</div>
<div id="check-the-number-of-participants-in-the-qctotals---should-be-4207-people." class="section level1">
<h1>Check the number of participants in the QCtotals - should be 4,207 people.</h1>
<p>length(unique(QCtotals_d$SEQN))</p>
</div>
<div id="section" class="section level1">
<h1>—————————————————————————————————————</h1>
</div>
<div id="load-the-blood-glucose-data-and-see." class="section level1">
<h1>Load the blood glucose data and see.</h1>
<p>glu &lt;- read.xport(“Raw_data/GLU_I.XPT”)</p>
</div>
<div id="glu-has-lbxglu---fasting-glucose-mgdl." class="section level1">
<h1>glu has LBXGLU - Fasting Glucose (mg/dL).</h1>
<p>head(glu)</p>
</div>
<div id="count-the-number-of-rows-with-no-missing-data." class="section level1">
<h1>Count the number of rows with no missing data.</h1>
</div>
<div id="individuals-have-glucose-data." class="section level1">
<h1>2972 individuals have glucose data.</h1>
<p>sum(complete.cases(glu))</p>
</div>
<div id="take-out-only-the-rows-with-no-missing-data-in-lbxglu." class="section level1">
<h1>Take out only the rows with no missing data in LBXGLU.</h1>
<p>glu_comp &lt;- glu[!is.na(glu$LBXGLU), ]</p>
</div>
<div id="take-a-quick-look-at-the-distribution-of-lbxglu." class="section level1">
<h1>Take a quick look at the distribution of LBXGLU.</h1>
<p>hist(glu_comp$LBXGLU)</p>
</div>
<div id="use-default-of-merge-to-only-keep-seqns-found-in-both-datasets." class="section level1">
<h1>Use default of merge to only keep SEQNs found in both datasets.</h1>
<p>QCtotal_d_glu &lt;- merge(x=QCtotals_d, y=glu_comp, by=“SEQN”)</p>
</div>
<div id="check-the-dimension-of-qctotal_d_glu---should-be-1943-rows." class="section level1">
<h1>Check the dimension of QCtotal_d_glu - should be 1,943 rows.</h1>
<p>dim(QCtotal_d_glu)</p>
</div>
<div id="section-1" class="section level1">
<h1>—————————————————————————————————————</h1>
</div>
<div id="load-the-body-measure-data." class="section level1">
<h1>Load the body measure data.</h1>
<p>bodymea &lt;- read.xport(“Raw_data/BMX_I.XPT”)</p>
</div>
<div id="explanation-of-variables-can-be-found-here-httpswwwn.cdc.govnchsnhanes2015-2016bmx_i.htm" class="section level1">
<h1>Explanation of variables can be found here: <a href="https://wwwn.cdc.gov/Nchs/Nhanes/2015-2016/BMX_I.htm" class="uri">https://wwwn.cdc.gov/Nchs/Nhanes/2015-2016/BMX_I.htm</a></h1>
</div>
<div id="relevant-variables-here-include" class="section level1">
<h1>Relevant variables here include:</h1>
<p># BMDSTATS - Body Measures Component Status Code: 1 == Complete data for age group. # 2 == Partial: Only height and weight obtained # BMXHT - Standing Height (cm) # BMIHT - Standing Height Comment # BMXBMI - Body Mass Index (kg/m**2) # BMXWAIST - Waist Circumference (cm)</p>
</div>
<div id="add-body-measure-to-qctotal_d_glu" class="section level1">
<h1>Add body measure to QCtotal_d_glu</h1>
<p>QCtotal_d_glu_body &lt;- merge(x=QCtotal_d_glu, y=bodymea, by=“SEQN”)</p>
</div>
<div id="section-2" class="section level1">
<h1>—————————————————————————————————————</h1>
</div>
<div id="load-the-metadata-of-people-which-is-in-total-day-1." class="section level1">
<h1>Load the metadata of people, which is in Total Day 1.</h1>
<p>metadata_raw &lt;- read.xport(“E:/MSU OneDrive 20210829/UMinn/20_NHANES/2015-16/Data/DR1TOT_I.XPT”)</p>
</div>
<div id="total-day-1-has-dietary-data-for-day-1-and-metadata-but-we-only-need-the-metadata-thus-take-out" class="section level1">
<h1>Total Day 1 has “dietary data for day 1” and “metadata”, but we only need the metadata; thus, take out</h1>
</div>
<div id="only-the-metadata-columns-variable-and-exclude-the-day-1-data." class="section level1">
<h1>only the metadata columns (variable) and exclude the day 1 data.</h1>
</div>
<div id="column-names-descriptions-can-be-found-here-httpswwwn.cdc.govnchsnhanes2015-2016dr1tot_i.htmdrqsprep" class="section level1">
<h1>Column names’ descriptions can be found here: <a href="https://wwwn.cdc.gov/Nchs/Nhanes/2015-2016/DR1TOT_I.htm#DRQSPREP" class="uri">https://wwwn.cdc.gov/Nchs/Nhanes/2015-2016/DR1TOT_I.htm#DRQSPREP</a></h1>
</div>
<div id="first-specify-the-first-and-the-last-column-names-to-select." class="section level1">
<h1>First, specify the first and the last column names to select.</h1>
</div>
<div id="look-for-the-column-number-that-matches-the-first-and-last-variable-specified." class="section level1">
<h1>Look for the column number that matches the first and last variable specified.</h1>
<p>sta_col_num_a &lt;- match(“DBQ095Z” , names(metadata_raw)) # Salt-related questions end_col_num_a &lt;- match(“DRQSPREP” , names(metadata_raw)) sta_col_num_b &lt;- match(“DRQSDIET” , names(metadata_raw)) # Diet-related questions end_col_num_b &lt;- match(“DRQSDT91” , names(metadata_raw)) sta_col_num_c &lt;- match(“DRD340” , names(metadata_raw)) # Fish-related questions end_col_num_c &lt;- match(“DRD370V” , names(metadata_raw))</p>
</div>
<div id="only-select-the-metadata-variables-and-seqn-which-is-in-column-1." class="section level1">
<h1>Only select the metadata variables and SEQN, which is in column 1.</h1>
<p>metadata_only &lt;- metadata_raw[, c(1,<br />
sta_col_num_a:end_col_num_a, sta_col_num_b:end_col_num_b, sta_col_num_c:end_col_num_c )]</p>
</div>
<div id="check-that-this-has-only-the-seqn-and-metadata-columns." class="section level1">
<h1>Check that this has only the SEQN and metadata columns.</h1>
<p>head(metadata_only, 1)</p>
</div>
<div id="add-meatadata-to-qctotal_d_glu_body" class="section level1">
<h1>Add meatadata to QCtotal_d_glu_body</h1>
<p>QCtotal_d_glu_body_meta &lt;- merge(x=QCtotal_d_glu_body, y=metadata_only, by=“SEQN”)</p>
<div id="in-summary-individuals-were-kept-who-were-in-the-qctotal_d-and-also-had-glucose-test-measurements." class="section level3">
<h3>In summary, individuals were kept who were in the QCtotal_d AND also had glucose test measurements.</h3>
<p># bodymeasures and metadata were added in a way that only individuals present in all the datasets # will be kept. 1943 individuals were kept.</p>
</div>
</div>
<div id="section-3" class="section level1">
<h1>===============================================================================================================</h1>
</div>
<div id="use-qctotal_d_glu_body_meta-dataframe-for-further-analysis." class="section level1">
<h1>Use QCtotal_d_glu_body_meta dataframe for further analysis.</h1>
</div>
<div id="section-4" class="section level1">
<h1>===============================================================================================================</h1>
</div>
<div id="add-index-according-to-their-glucose-level-normal-prediabetic-and-diabetic." class="section level1">
<h1>Add index according to their glucose level: Normal, Prediabetic, and Diabetic.</h1>
<p># Norm: 99 mg/dL or lower # Pred: 100 to 125 mg/dL # Diab: 126 mg/dL or higher</p>
</div>
<div id="create-an-empty-column-to-insert-glucose-level-index." class="section level1">
<h1>Create an empty column to insert glucose level index.</h1>
<p>QCtotal_d_glu_body_meta$GLU_index &lt;- NA</p>
</div>
<div id="add-glucose-level-index." class="section level1">
<h1>Add glucose level index.</h1>
<p>for(i in 1: nrow(QCtotal_d_glu_body_meta)){ if( QCtotal_d_glu_body_meta<span class="math inline">\(LBXGLU[i] &lt; 100){ QCtotal_d_glu_body_meta\)</span>GLU_index[i] &lt;- “Normal” } else if(QCtotal_d_glu_body_meta<span class="math inline">\(LBXGLU[i] &lt; 126){ QCtotal_d_glu_body_meta\)</span>GLU_index[i] &lt;- “Prediabetic” } else{ QCtotal_d_glu_body_meta$GLU_index[i] &lt;- “Diabetic” } }</p>
</div>
<div id="check-the-first-10-rows-of-glucose-and-glu_index-columns-in-qctotal_d_glu_body_meta." class="section level1">
<h1>Check the first 10 rows of glucose and GLU_index columns in QCtotal_d_glu_body_meta.</h1>
<p>QCtotal_d_glu_body_meta[1:10, c(“LBXGLU”, “GLU_index”)]</p>
</div>
<div id="look-at-the-frequency-of-glu_index." class="section level1">
<h1>Look at the frequency of GLU_index.</h1>
<p>table(QCtotal_d_glu_body_meta$GLU_index)</p>
</div>
<div id="save-the-dataset-as-a-.txt-file." class="section level1">
<h1>Save the dataset as a .txt file.</h1>
<p>write.table(QCtotal_d_glu_body_meta, file=“Laboratory_data/QCtotal_d_glu_body_meta.txt”, sep= “, row.names=F, quote= F)</p>
</div>
<div id="section-5" class="section level1">
<h1>—————————————————————————————————————</h1>
</div>
<div id="load-the-data-of-those-to-be-used-in-the-diabetes-status-analysis." class="section level1">
<h1>Load the data of those to be used in the diabetes status analysis.</h1>
<p>glu &lt;- read.delim( file=“Laboratory_data/QCtotal_d_glu_body_meta.txt”, sep= “, header= T )</p>
</div>
<div id="make-glu_index-as-a-factor-for-plotting." class="section level1">
<h1>Make GLU_index as a factor for plotting.</h1>
<p>glu<span class="math inline">\(GLU_index &lt;- factor(glu\)</span>GLU_index, levels = c(“Normal”, “Prediabetic”, “Diabetic”))</p>
</div>
<div id="exclude-those-who-are-following-special-diets." class="section level1">
<h1>Exclude those who are following special diets.</h1>
</div>
<div id="look-at-the-number-of-individuals-who-are-following-any-specific-diet-drqsdiet1." class="section level1">
<h1>Look at the number of individuals who are following any specific diet (DRQSDIET==1).</h1>
<p>table(glu$DRQSDIET)</p>
</div>
<div id="drqsdiet1-is-following-a-special-diet-so-select-only-rows-with-drqsdiet2." class="section level1">
<h1>DRQSDIET==1 is following a special diet, so select only rows with DRQSDIET==2.</h1>
<p>glu_2 &lt;- subset(glu, DRQSDIET == 2)</p>
</div>
<div id="how-many-people-remained-1625-remained." class="section level1">
<h1>How many people remained? – 1625 remained.</h1>
<p>table(glu_2$DRQSDIET)</p>
</div>
<div id="check-the-sample-size-of-each-category." class="section level1">
<h1>Check the sample size of each category.</h1>
<p>table(glu_2$GLU_index)</p>
<p># Normal Prediabetic Diabetic # 684 730 211</p>
</div>
<div id="section-6" class="section level1">
<h1>—————————————————————————————————————</h1>
</div>
<div id="look-at-the-bmi-frequency-of-each-group." class="section level1">
<h1>Look at the BMI frequency of each group.</h1>
</div>
<div id="the-columnname-for-bmi-is-bmxbmi." class="section level1">
<h1>The columnname for BMI is BMXBMI.</h1>
</div>
<div id="check-the-summary-data---this-will-also-show-the-number-of-missing-data-if-any." class="section level1">
<h1>Check the summary data - this will also show the number of missing data if any.</h1>
<p>summary(glu_2$BMXBMI)</p>
</div>
<div id="are-missing-bmi-and-has-nas.-you-can-also-see-that-by-counting-the-number-of-nas" class="section level1">
<h1>14 are missing BMI and has NA’s. You can also see that by counting the number of NAs</h1>
</div>
<div id="in-specified-rows." class="section level1">
<h1>in specified rows.</h1>
<p>colSums(is.na(glu_2[, c(“SEQN”, “BMXBMI”)]))</p>
</div>
<div id="create-a-density-plot-of-bmi-by-glu_index-type." class="section level1">
<h1>Create a density plot of BMI by GLU_index type.</h1>
<p>BMIfreq &lt;- ggplot(data=glu_2, aes(x=BMXBMI, group=GLU_index, fill=GLU_index)) + geom_density(adjust=1.5, alpha=.4) + space_axes + no_grid + scale_fill_manual(values= c(“steelblue3”, “yellow”, “hotpink”) ) + labs(x=“BMI”, y=“Density”) BMIfreq</p>
</div>
<div id="if-there-are-missing-data-it-will-give-a-warning-message" class="section level1">
<h1>If there are missing data, it will give a Warning message:</h1>
</div>
<div id="removed-14-rows-containing-non-finite-values-stat_density." class="section level1">
<h1>“Removed 14 rows containing non-finite values (stat_density).”</h1>
</div>
<div id="save-the-chart-as-.pdf.-n-1625---14-missing-1611." class="section level1">
<h1>Save the chart as .pdf. n = 1625 - 14 missing = 1611.</h1>
<p>ggsave(“Laboratory_data/QCtotal_d_glu_body_meta_demo_n1611_BMI_by_GLU_index.pdf”, BMIfreq, device=“pdf”, width=5.3, height=4.5)</p>
<div id="the-diabetic-population-had-higher-bmi-than-the-prediabetic-and-the-lowest-bmi-was" class="section level4">
<h4>The diabetic population had higher BMI than the prediabetic, and the lowest BMI was</h4>
<p># the normal population.</p>
</div>
</div>
<div id="section-7" class="section level1">
<h1>—————————————————————————————————————</h1>
</div>
<div id="the-columnname-for-bodyweight-is-bmxwt" class="section level1">
<h1>The columnname for bodyweight is BMXWT</h1>
</div>
<div id="check-the-summary-data---this-will-show-the-number-of-missing-data-if-any." class="section level1">
<h1>Check the summary data - this will show the number of missing data if any.</h1>
<p>summary(glu_2$BMXWT) colSums(is.na(glu_2[, c(“SEQN”, “BMXWT”)])) # 12 are missing body weight and has NA’s.</p>
</div>
<div id="show-histogram-of-body-weight." class="section level1">
<h1>Show histogram of body weight.</h1>
<p>hist(glu_2$BMXWT)</p>
</div>
<div id="create-a-density-plot-of-body-weight-by-glu_index-type." class="section level1">
<h1>Create a density plot of body weight by GLU_index type.</h1>
<p>weightfreq &lt;- ggplot(data=glu_2, aes(x=BMXWT, group=GLU_index, fill=GLU_index)) + geom_density(adjust=1.5, alpha=.4) + space_axes + no_grid + scale_fill_manual(values= c(“steelblue3”, “yellow”, “hotpink”) ) + labs(x=“Body weight (kg)”, y=“Density”) weightfreq</p>
</div>
<div id="save-the-chart-as-.pdf.-n-1625---12-missing-1613." class="section level1">
<h1>Save the chart as .pdf. n = 1625 - 12 missing = 1613.</h1>
<p>ggsave(“Laboratory_data/QCtotal_d_glu_body_meta_demo_n1613_weight_by_GLU_index.pdf”, weightfreq, device=“pdf”, width=5.3, height=4.5)</p>
</div>
<div id="section-8" class="section level1">
<h1>—————————————————————————————————————</h1>
</div>
<div id="look-at-the-kcal-frequency-of-each-group." class="section level1">
<h1>Look at the KCAL frequency of each group.</h1>
</div>
<div id="check-the-summary-data---this-will-show-the-number-of-missing-data-if-any.-1" class="section level1">
<h1>Check the summary data - this will show the number of missing data if any.</h1>
<p>summary(glu_2$KCAL) # There is no missing data for KCAL.</p>
</div>
<div id="create-a-line-chart-of-the-kcal-frequency-of-each-group." class="section level1">
<h1>Create a line chart of the KCAL frequency of each group.</h1>
<p>KCALfreq &lt;- ggplot(data=glu_2, aes(x=KCAL, group=GLU_index, color=GLU_index)) + geom_density(adjust=1.5, alpha=.4, size=1.2, linetype=“longdash”) + space_axes + no_grid + scale_color_manual(values= c(“steelblue3”, “gold3”, “hotpink”) ) + labs(x=“KCAL”, y=“Density”) + scale_y_continuous(labels = function(x) format(x, scientific = FALSE)) KCALfreq</p>
</div>
<div id="save-the-chart-as-.pdf." class="section level1">
<h1>Save the chart as .pdf.</h1>
<p>ggsave(“Laboratory_data/QCtotal_d_glu_body_meta_demo_n1625_KCAL_by_GLU_index_line.pdf”, KCALfreq, device=“pdf”, width=5.3, height=4.5)</p>
</div>
<div id="section-9" class="section level1">
<h1>===============================================================================================================</h1>
</div>
<div id="select-only-men-in-their-50s-for-example-so-that-the-samples-are-more-uniform-and-smaller." class="section level1">
<h1>Select only men in their 50s, for example, so that the samples are more uniform and smaller.</h1>
</div>
<div id="section-10" class="section level1">
<h1>===============================================================================================================</h1>
</div>
<div id="age---no-missing-data-and-spread-pretty-evenly." class="section level1">
<h1>Age - no missing data, and spread pretty evenly.</h1>
<p>summary(glu_2<span class="math inline">\(RIDAGEYR)  hist(glu_2\)</span>RIDAGEYR)</p>
</div>
<div id="gender---no-missing-data.-1-male-2-female." class="section level1">
<h1>Gender - no missing data. 1: male, 2: female.</h1>
<p>table(glu_2$RIAGENDR)</p>
</div>
<div id="select-males-in-their-50s" class="section level1">
<h1>Select males in their 50s</h1>
<p>glu_2_males &lt;- subset(glu_2, RIAGENDR == 1) glu_2_males50s &lt;- subset(glu_2_males, RIDAGEYR &gt;= 50 &amp; RIDAGEYR &lt;= 59 )</p>
</div>
<div id="check-the-dimension-of-the-selected-data---should-be-128-rows." class="section level1">
<h1>Check the dimension of the selected data - should be 128 rows.</h1>
<p>dim(glu_2_males50s)</p>
</div>
<div id="ensure-the-ages-of-the-selected-subpopulation-are-between-50-59." class="section level1">
<h1>Ensure the ages of the selected subpopulation are between 50-59.</h1>
<p>table(glu_2_males50s$RIDAGEYR)</p>
</div>
<div id="look-at-the-distribution-of-glu_index-among-the-selected-subpopulation." class="section level1">
<h1>Look at the distribution of GLU_index among the selected subpopulation.</h1>
<p>table(glu_2_males50s$GLU_index)</p>
</div>
<div id="save-the-glu_2_males50s-as-a-txt-file." class="section level1">
<h1>Save the glu_2_males50s as a txt file.</h1>
<p>write.table(glu_2_males50s, “Laboratory_data/QCtotal_d_glu_body_meta_demo_males50s.txt”, sep=“, row.names = F, quote = F)</p>
</div>
<div id="section-11" class="section level1">
<h1>—————————————————————————————————————-</h1>
</div>
<div id="look-at-the-bmi-frequency-of-each-group.-1" class="section level1">
<h1>Look at the BMI frequency of each group.</h1>
</div>
<div id="this-uses-lighter-colors-for-the-subpopulation." class="section level1">
<h1>This uses lighter colors for the subpopulation.</h1>
<p>males50s_BMIfreq &lt;- ggplot(data=glu_2_males50s, aes(x=BMXBMI, group=GLU_index, fill=GLU_index)) + geom_density(adjust=1.5, alpha=0.4) + space_axes + no_grid + scale_fill_manual(values= c(“aquamarine2”, “lightgoldenrod1”, “lightpink1”) ) + labs(x=“BMI”, y=“Density”) males50s_BMIfreq</p>
<p># Save the chart as .pdf. ggsave(“Laboratory_data/males50s_BMI_by_GLU_index.pdf”, males50s_BMIfreq, device=“pdf”, width=5.3, height=4.5)</p>
</div>
<div id="section-12" class="section level1">
<h1>—————————————————————————————————————-</h1>
</div>
<div id="body-weight" class="section level1">
<h1>Body weight</h1>
<pre><code># Make sure the labels in the legend are correct. </code></pre>
<p>males50s_weightfreq &lt;- ggplot(data=glu_2_males50s, aes(x=BMXWT, group=GLU_index, fill=GLU_index)) + geom_density(adjust=1.5, alpha=.4) + space_axes + no_grid + scale_fill_manual(values= c(“aquamarine2”, “lightgoldenrod1”, “lightpink1”) ) + labs(x=“Body weight (kg)”, y=“Density”) males50s_weightfreq</p>
<p>ggsave(“Laboratory_data/males50s_weight_by_GLU_index.pdf”, males50s_weightfreq, device=“pdf”, width=5.3, height=4.5)</p>
</div>
<div id="section-13" class="section level1">
<h1>—————————————————————————————————————-</h1>
</div>
<div id="look-at-the-kcal-frequency-of-each-group.-1" class="section level1">
<h1>Look at the KCAL frequency of each group.</h1>
</div>
<div id="make-sure-the-labels-in-the-legend-are-correct." class="section level1">
<h1>Make sure the labels in the legend are correct.</h1>
<p>males50s_KCALfreq &lt;- ggplot(data=glu_2_males50s, aes(x=KCAL, group=GLU_index, color=GLU_index)) + geom_density(adjust=1.5, alpha=0.4, size=1.2, linetype=“longdash”) + space_axes + no_grid + scale_color_manual(values= c(“aquamarine3”, “lightgoldenrod3”, “lightpink1”)) + labs(x=“KCAL”, y=“Density”) + scale_y_continuous(labels= function(x) format(x, scientific = FALSE)) males50s_KCALfreq</p>
<p># Save the chart as .pdf. ggsave(“Laboratory_data/males50s_KCAL_by_GLU_index.pdf”, males50s_KCALfreq, device=“pdf”, width=5.3, height=4.5)</p>
</div>
<div id="section-14" class="section level1">
<h1>—————————————————————————————————————-</h1>
</div>
<div id="create-a-boxplot-of-kcal-of-each-glu_index-group." class="section level1">
<h1>Create a boxplot of KCAL of each GLU_index group.</h1>
<p>males50s_KCAL &lt;- ggplot(glu_2_males50s, aes(x=GLU_index, y=KCAL, fill=GLU_index)) + geom_boxplot(outlier.shape = NA) + no_grid + space_axes + scale_fill_manual(values= c(“aquamarine2”, “lightgoldenrod1”, “lightpink1”) ) + geom_jitter(width=0.3) males50s_KCAL</p>
<p>ggsave(“Laboratory_data/males50s_KCAL_by_GLU_index_box.pdf”, males50s_KCAL, device=“pdf”, width=5.3, height=4.5)</p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
